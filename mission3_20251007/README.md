# λ―Έμ… 3: RAG κΈ°μ΄ μ΄λ΅  & μ‹¤μµ

## π“ λ―Έμ… μ •λ³΄

- **λ‚ μ§**: 2025.10.07 (ν™”)
- **ν•™μµ λ²”μ„**: Part7 - RAG κΈ°μ΄ μ΄λ΅  & μ‹¤μµ
- **μ μ¶ κΈ°ν•**: 2025.10.07 23:59

---

## π― ν•™μµ λ©ν‘

μ΄ λ―Έμ…μ—μ„λ” RAG(Retrieval-Augmented Generation)μ κΈ°μ΄ κ°λ…μ„ ν•™μµν•κ³  κ°„λ‹¨ν• RAG μ‹μ¤ν…μ„ κµ¬ν„ν•©λ‹λ‹¤.

### μ£Όμ” ν•™μµ λ‚΄μ©
- RAGμ κ°λ…κ³Ό μ›λ¦¬
- λ¬Έμ„ μ„λ² λ”©κ³Ό λ²΅ν„° DB
- κ²€μƒ‰ κΈ°λ° λ‹µλ³€ μƒμ„±
- LangChainμ„ ν™μ©ν• RAG κµ¬ν„

---

## π“ μ‹¤μµ λ‚΄μ©

### κµ¬ν„ κΈ°λ¥
- [x] λ¬Έμ„ λ°μ΄ν„° λ΅λ“ λ° μ „μ²λ¦¬
- [x] λ¬Έμ„ μ„λ² λ”© μƒμ„±
- [x] λ²΅ν„° DB κµ¬μ¶• (FAISS/ChromaDB λ“±)
- [x] μ§λ¬Έμ— λ€ν• κ΄€λ ¨ λ¬Έμ„ κ²€μƒ‰
- [x] κ²€μƒ‰ κ²°κ³Ό κΈ°λ° λ‹µλ³€ μƒμ„±

### μ‚¬μ© κΈ°μ 
- Python
- LangChain
- OpenAI Embeddings
- Vector Database (FAISS/ChromaDB)
- Jupyter Notebook

---

## π’» μ‹¤ν–‰ λ°©λ²•

```bash
# ν•„μ”ν• ν¨ν‚¤μ§€ μ„¤μΉ
pip install -r requirements.txt

# Jupyter Notebook μ‹¤ν–‰
jupyter notebook

# λλ” Python νμΌ μ‹¤ν–‰
python main.py
```

---

## π“ μ‹¤ν–‰ κ²°κ³Ό

> μ΄κ³³μ— μ‹¤ν–‰ κ²°κ³Ό μ¤ν¬λ¦°μƒ·μ΄λ‚ μ¶λ ¥ λ‚΄μ©μ„ μ¶”κ°€ν•μ„Έμ”


```
μ§λ¬Έ : "ν•κµ­ν• μ¤λ§νΈνμ΄λ€?"
```


```
κ΄€λ ¨λ λ¬Έμ„ chunks

μ°¨μ„Έλ€ ν•κµ­ν•μ¤λ§νΈν κ°λ°
κµ­λ¦½λ†μ—…κ³Όν•™μ› λ†μ—…κ³µν•™λ¶€ μ¤λ§νΈνκ°λ°κ³Ό μ΄ν„λ™ μ—°κµ¬κ΄€
ν•κµ­ν• μ¤λ§νΈν κ°λ° ν”„λ΅μ νΈ !
μ°λ¦¬λ‚λΌ λ†μ—…μ€ κ³ λ Ήν™”μ™€ λ†’μ€ λ…Έλ™κ°•λ„λ΅ μΈν•΄ μ²­λ…„μΈκµ¬μ μ μ…μ΄ μ–΄λ ¤μ΄ κµ¬μ΅°λ΅ νƒ€ λ¶„μ•Όλ³΄λ‹¤ μƒμ‚°μΈκµ¬ μ λ²½ν™”κ°€ λ”μ±
κ°€μ‹ν™”λκ³  μλ‹¤. μ΄μ— λ€ν• λ€μ•μΌλ΅ μ μ‹λκ³  μλ” μ¤λ§νΈνμ€ μ‚¬λ¬ΌμΈν„°λ„·, λΉ…λ°μ΄ν„°, μΈκ³µμ§€λ¥, λ΅λ΄‡ λ“±μ„ ν™μ©ν•μ—¬
λ†μ‚°λ¬Όμ μƒμ΅ν™κ²½μ„ μµμ μƒνƒλ΅ κ΄€λ¦¬ν•κ³  λ…Έλ™λ ¥ μ κ°κ³Ό μƒμ‚°μ„± ν–¥μƒμ„ κµ¬ν„ν•λ” ν¨μ¨μ μΈ λ†μ—…ν•νƒμ΄λ‹¤. 
μ°¨μ„Έλ€ ν•κµ­ν• μ¤λ§νΈν κΈ°μ κ°λ° ν”„λ΅μ νΈλ” 4κΈ°κ΄€ 19κ° μ „λ‹΄λ¶€μ„κ°€ ν‘μ—…ν•μ—¬ ν•µμ‹¬ μ”μ† λ° μ›μ² κΈ°λ°κΈ°μ μ ν™•λ³΄λ¥Ό μ„ν•΄
μ—°κµ¬ μ—­λ‰μ„ μ§‘μ¤‘ν•κ³  μκ³  κµ­λ‚΄ λ†μ—…μ—¬κ±΄μ— μ ν•©ν•κ² κΈ°μ μμ¤€λ³„λ΅ μ¤λ§νΈν λ¨λΈμ„ 3κ°€μ§€ λ‹¨κ³„λ΅ κµ¬λ¶„ν•μ—¬ κ°λ°μ„
μ¶”μ§„ν•κ³  μλ‹¤. λ‹¨κ³„λ³„ μ¤λ§νΈνμ€ 1μ„Έλ€(νΈλ¦¬μ„± μ¦μ§„), 2μ„Έλ€(μƒμ‚°μ„± ν–¥μƒ-λ„¤λλ€λ“μ¶”κ²©ν•), 3μ„Έλ€(κΈ€λ΅λ²μ‚°μ—…ν™”-ν”λνΈ
μμ¶ν•)λ΅ κµ¬λ¶„λκ³  κΈ°μ μ λ‹¨κ³„μ  κ°λ°κ³Ό μ‹¤μ©ν™” κ³„νμ„ ν†µν•΄ λ…Έλ™λ ¥κ³Ό λ†μμ¬μ μ‚¬μ©μ„ μ¤„μ΄κ³ , μƒμ‚°μ„±κ³Ό ν’μ§μ„
μ κ³ ν•¨μΌλ΅ λ†κ°€μ†λ“κ³Ό μ—°κ³„ν•λ©°, λ‚μ•„κ°€ μλ†ν„μ¥μ μ• λ΅μ™€ μ—°κ΄€ μ‚°μ—…μ λ¬Έμ λ¥Ό λ™μ‹μ— ν•΄κ²°ν•΄ κ°„λ‹¤λ” κ³„νμ΄λ‹¤.
μ°¨μ„Έλ€ ν•κµ­ν• μ¤λ§νΈν μµλ³µν•© ν”„λ΅μ νΈ
μ„Έλ€λ³„ μ¤λ§νΈν λ¨λΈμ νΉμ§•μ€ ?
μ°¨μ„Έλ€ ν•κµ­ν• μ¤λ§νΈν ν”„λ΅μ νΈλ” μ™Έκµ­μ μ„ μ§„ κΈ°μ μ„ κ·Έλ€λ΅ μμ…γƒ»μ μ©ν•κ±°λ‚ λ‹¨μ λ¨λ°©ν•μ§€ μ•κ³  μ°λ¦¬ λ†μ—… ν™κ²½κ³Ό
ν„μ¥ μƒν™©μ— μ ν•©ν• κΈ°μ μ„ κ°λ°ν•μ—¬ λ†μ—…μ„ μ§„κµ­κ³Ό κ²½μν•  μ μλ” λ…μμ μΈ λ†μ—…μƒμ‚°κΈ°μ μ„ ν™•λ³΄ν•λ” κ²ƒμ΄λ‹¤.
1μ„Έλ€ μ¤λ§νΈν - μ›κ²© λ¨λ‹ν„°λ§κ³Ό μ μ–΄λ΅ νΈμμ„± ν–¥μƒ
μ›κ²© κ΄€λ¦¬λ¥Ό μ΄μ©ν• λ†μ—…μΈ νΈλ¦¬μ„± μ¦λ€λ¥Ό λ©μ μΌλ΅ ν„μ¬κΉμ§€ κ°λ°ν• μλ™ν™” λ° ICT κΈ°μ λ“¤μ„ μλ†μ—¬κ±΄κ³Ό λ†κ°€μμ¤€μ— λ§μ¶”μ–΄ κΈ°λ³Έν•κ³Ό
μ„ νƒν•μΌλ΅ κµ¬λ¶„ν•΄ λ¨λΈμ„ μ μ‹ν•¨μΌλ΅μ¨ λ†κ°€μ ν•„μ”μ— λ”°λΌ μ΅°κ±΄μ— λ§λ” λ¨λΈμ„ μ μ©ν•  μ μλ„λ΅ ν• κ²ƒμ΄λ‹¤.
λ¨λΈμ ν• μ£Όμ”κΈ°λ¥ λ¨λΈμ ν• μ£Όμ”κΈ°λ¥ λ¨λΈμ ν• μ£Όμ”κΈ°λ¥
1μ„Έλ€ μ¤λ§νΈμ¨μ‹¤ λ¨λΈ 4μΆ…(κΈ°λ³Έν•1, μ„ νƒν•3)

---------------------------------

2016λ…„ κ°λ° μ™„λ£λ 1μ„Έλ€ μ¤λ§νΈν λ¨λΈμ λ³΄κΈ‰ ν™•μ‚°μ„ μ„ν•΄ ν„μ¥μ‹¤μ¦ μ—°κµ¬μ™€ μ‹ κΈ°μ μ‹λ²”μ‚¬μ—…μ„ μ ‘λ©ν•μ—¬ μ¶”μ§„ν•κ³ 
μλ‹¤. μ‹μ„¤μ›μ 6ν’λ©, λ²„μ„― 1, μ¶•μ‚° 2μ— λ€ν•μ—¬ 22κ°μ†(9.1ha)μ—μ„ ν„μ¥μ‹¤μ¦μ—°κµ¬κ°€ μ§„ν–‰ μ¤‘μ΄λ©°, 2017λ…„ 35κ³Όμ 
174κ°μ†μ—μ„ μ‹ κΈ°μ λ³΄κΈ‰μ‚¬μ—…μ΄ μν–‰λκ³  μλ‹¤. λν•, μ‹λ²”μ‚¬μ—…μ μ„¤μΉ λ° μ‹¤μ¦ λ†κ°€μ μ΅°κ±΄ λ“±μ„ κ³ λ ¤ν• ν’λ©λ³„ λ³΄κΈ‰ν•
λ¨λΈμ„ μ„¤μ •ν•κ³ , 1μ„Έλ€ λ¨λΈμ μ μ©κ³Ό μ‹¤μ¦κ³Όμ •μ„ κ±°μ³ μ •λ¦¬λ ν’λ©λ³„ μ¤λ§νΈν μ΄μ λ§¤λ‰΄μ–Όμ„ 2017λ…„κΉμ§€ κ°λ°ν•μ—¬
λ³΄κΈ‰ν•  κ³„νμ΄λ‹¤.
μ¨μ‹¤ ν™κ²½μ μ–΄μ‹μ¤ν… κµ¬μ„±
 1μ„Έλ€ μ¤λ§νΈν κΈ°μ 
2μ„Έλ€ μ¤λ§νΈν - μ§€λ¥ν• μ •λ°€μƒμ΅κ΄€λ¦¬λ΅ μƒμ‚°μ„± ν–¥μƒ
λ†μ—…μ„ μ§„κµ­κ³Ό λ€λ“±ν• μμ¤€μ μƒμ‚°μ„±μ„ ν™•λ³΄ν•κΈ° μ„ν•΄ μ‹λ¬Όμ μƒμ΅ λλ” λ™λ¬Όμ μƒμ¥ μƒνƒλ¥Ό κ³„μΈ΅ν•κ³  μΈ΅μ •μλ£λ¥Ό λΉ…λ°μ΄ν„°λ΅ κ΄€λ¦¬,
μΈκ³µμ§€λ¥μ΄ λ™μ‹λ¬Ό μƒμ¥λ¨λΈμ„ μ΄μ©ν•μ—¬ ν™κ²½κ΄€λ¦¬μ— λ€ν• μμ‚¬κ²°μ •μ„ ν•λ” 2μ„Έλ€ κΈ°μ  κ°λ°μ΄ ν•„μ”ν•λ‹¤.
ν•κµ­ν• μ¤λ§νΈ ν 2μ„Έλ€ λ¨λΈ μ„¤κ³„(μ•)
κ΄€ν–‰ λ†μ—…μ€ μ™λ ¨λ μ¬λ°°μ λλ” μ‚¬μ΅μ‚¬μ κ²½ν—κ³Ό μ§€μ‹μ— μμ΅΄ν•μ—¬ μƒμ‚°κ΄€λ¦¬μ— λ€ν• μμ‚¬κ²°μ •μ„ ν•λ” λ°©μ‹μ΄μ—λ‹¤. 2μ„Έλ€ μ¤λ§νΈνμ€ μ¬λ°°
λλ” μ‚¬μ–‘κ΄€λ¦¬ μ „λ¬Έμ§€μ‹κ³Ό μ„ λ„λ†κ°€μ κ²½ν—μ„ ν•™μµν• μΈκ³µμ§€λ¥μ λ„μ›€μ„ λ°›μ•„ ν„μ¬ μ‹κΈ°μ λ†μ¥ ν™κ²½μ— μµμ ν™”λ μμ‚¬κ²°μ •μ„ ν•  μ μκ²
λλ‹¤. κ·Έλ¬λ―€λ΅ μ¬λ°° λλ” μ‚¬μ΅ν•κ³  μλ” μ‘λ¬Όκ³Ό κ°€μ¶•μ— λ€ν• μ •λ°€ν• μƒμ΅κ΄€λ¦¬κ°€ κ°€λ¥ν•΄μ§€κ³  ν’μ§κ³Ό μƒμ‚°λ‰μ„ ν¬κ² ν–¥μƒν•  μ μλ‹¤. ν•κµ­ν•
μ¤λ§νΈν 2μ„Έλ€ λ¨λΈμ€ 2018λ…„κΉμ§€ ν† λ§ν† μ¬λ°°μ™€ λΌμ§€μ‚¬μ΅μ— λ€ν• μ¤λ§νΈν λ¨λΈ κ°λ°μ„ λ©ν‘λ΅ μ—°κµ¬ κ°λ°μ΄ μ§„ν–‰λκ³  μμΌλ©°, ν–¥ν›„ μ μ©
ν’λ©μ„ λ‹¤μ–‘ν™” ν•κ³  2μ„Έλ€ λ¨λΈμ ν„μ¥ λ³΄κΈ‰μ„ ν™•λ€ν•΄ λ‚κ° κ³„νμ΄λ‹¤.
κΈ°λ³Έν• ν™κΈ°/λ³΄μ¨/μμƒκ°μ‹ μ„ νƒ(1)ν• κ΄€μ μ„ νƒ(2)ν• λ‚λ°©
μ„ νƒ(3)ν• μ•μ „
```


```
λ‹µλ³€ : ν•κµ­ν• μ¤λ§νΈνμ—μ„ ν•„μ”ν• ICT κΈ°μ μ€ μ‚¬λ¬ΌμΈν„°λ„·, λΉ…λ°μ΄ν„°, μΈκ³µμ§€λ¥, λ΅λ΄‡ λ“±μ„ ν™μ©ν•λ” κΈ°μ λ“¤μ΄ ν•„μ”ν•©λ‹λ‹¤. μ΄λ¬ν• κΈ°μ λ“¤μ„ ν†µν•΄ λ†μ‚°λ¬Όμ μƒμ΅ν™κ²½μ„ μµμ ν™”ν•κ³  λ…Έλ™λ ¥μ„ μ κ°ν•λ©° μƒμ‚°μ„±μ„ ν–¥μƒμ‹ν‚¤λ” ν¨μ¨μ μΈ λ†μ—…ν•νƒλ¥Ό κµ¬ν„ν•  μ μμµλ‹λ‹¤.
```

---

## π¤” ν•™μµ λ‚΄μ© μ •λ¦¬

### λ°°μ΄ μ 
- λ©ν•΄νΌ κ±°λ¦¬(Manhattan Distance)μ κ°λ…κ³Ό κ³„μ‚° λ°©μ‹
- μμΉ΄λ“ μ μ‚¬λ„(Jaccard Similarity)λ¥Ό μ΄μ©ν• μ§‘ν•© κ°„ μ μ‚¬λ„ μΈ΅μ • λ°©λ²•
- ν¬λ΅λ§ κ²€μƒ‰(Chroma Search) ν™μ©
- ν•μ΄λΈλ¦¬λ“ κ²€μƒ‰(Hybrid Search): λ²΅ν„° κ²€μƒ‰ + ν‚¤μ›λ“ κ²€μƒ‰ κ²°ν•© λ°©μ‹ μ΄ν•΄
- MMR κ²€μƒ‰(Maximal Marginal Relevance): κ²€μƒ‰ κ²°κ³Όμ λ‹¤μ–‘μ„±κ³Ό μ μ‚¬μ„±μ„ κ· ν• μκ² λ°μν•λ” λ°©μ‹


### μ–΄λ ¤μ› λ μ 
- MR κ²€μƒ‰ μ•κ³ λ¦¬μ¦μ λ‚΄λ¶€ μ‘λ™ μ›λ¦¬λ¥Ό μ •ν™•ν μ΄ν•΄ν•λ” λ° λ‚ν•­μ„ κ²μ

### κ°μ„ ν•κ³  μ‹¶μ€ μ 
- ν•λ‚μ λ¬Έμ„κ°€ μ•„λ‹ μ—¬λ¬ λ¬Έμ„ λλ” λ‹¤μ–‘ν• λ¨λ‹¬λ¦¬ν‹°(ν…μ¤νΈΒ·μ΄λ―Έμ§€Β·μ¤λ””μ¤ λ“±)λ¥Ό ν™μ©ν•λ” AI κµ¬ν„
- λ¬΄λ£ μ¤ν”μ†μ¤ λ¨λΈκ³Ό μƒμ© λ¨λΈ κ°„ μ„±λ¥ λΉ„κµ μ§„ν–‰
- ν‰κ°€ λ°©λ²•λ΅ μ„ μ μ©ν•΄ λ¨λΈμ κ²€μƒ‰Β·μ‘λ‹µ ν’μ§μ„ μ •λ‰μ μΌλ΅ μΈ΅μ •


---

## π“ μ°Έκ³  μλ£

- [μ¨λΌμΈ κ°•μ λ§ν¬]()
- [LangChain κ³µμ‹ λ¬Έμ„](https://python.langchain.com/)
- [RAG λ…Όλ¬Έ](https://arxiv.org/abs/2005.11401)

---

**μ‘μ„±μ**: [μ΄λ¦„]  
**μ‘μ„±μΌ**: 2025.10.07

